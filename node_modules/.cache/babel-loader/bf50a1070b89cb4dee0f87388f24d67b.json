{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZLILDANIELPC\\\\Desktop\\\\zlil_shared_dir\\\\whatsApp - serg\\\\src\\\\App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Messages } from './Messages';\nimport { Pane, Panes } from './Panes';\nimport { Chats } from './Chats';\nimport { MessageForm } from './MessageForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nlet get = route => fetch(`http://localhost:8080/api/${route}`).then(res => res.json());\n\nexport function App() {\n  _s();\n\n  let [chats, setChats] = useState([]);\n  let [chatId, setChatId] = useState(null); //let [selectedId, setSelectedId] = useState(null);\n\n  let [messages, setMessages] = useState([]);\n  let [lastPoll, setLastPoll] = useState(Date.now());\n  let [myUser, setMyUser] = useState({});\n  let timer = useRef(null);\n  useEffect(loadMyUser, []);\n  useEffect(loadChats, []);\n  useEffect(loadAllUsers, []);\n  useEffect(loadMessages, [chatId, lastPoll]);\n  useEffect(startTimer, [lastPoll]);\n  let selectedChat = chats.find(p => p.id === chatId);\n\n  function loadAllUsers() {\n    // GET request using fetch inside useEffect React hook\n    fetch('http://localhost:8080/api/users').then(response => response.json()).then(users => console.log(users)).catch(err => console.log(\"eror\" + err));\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(Panes, {\n    children: [/*#__PURE__*/_jsxDEV(Pane, {\n      width: '35%',\n      minWidth: '300px',\n      header: `All Chats (lastPoll: ${lastPoll})`,\n      header: `User: ${myUser.firstName} ${myUser.lastName} (lastPoll: ${lastPoll})`,\n      body: /*#__PURE__*/_jsxDEV(Chats, {\n        chats: chats,\n        onSelectChat: setChatId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pane, {\n      width: '65%',\n      header: `${selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.users.map(user => user.name).join(', ')} (${selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.id})`,\n      header: `Chat (${selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.id}): ${selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.users.map(user => user.name).join(', ')}`,\n      body: /*#__PURE__*/_jsxDEV(Messages, {\n        messages: messages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }, this),\n      footer: /*#__PURE__*/_jsxDEV(MessageForm, {\n        onNewMessage: onNewMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this),\n      lastScroll: lastPoll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 12\n  }, this);\n\n  function loadMyUser() {\n    const USER = '60bfaf01d6c5f547fc147cca';\n    fetch(`http://localhost:8080/api/users/${USER}`).then(res => res.json()).then(user => {\n      setMyUser(user);\n    });\n  }\n\n  ; // function loadMyUser() {\n  //   import('./data/users_me')\n  //     .then(module => {\n  //       let user = module.user;\n  //       setMyUser(user);\n  //     });\n  // }\n\n  function onNewMessage(e, chatId) {\n    e.preventDefault();\n    fetch(`/post/chats/${chatId}/message`).then(res => {\n      let newMessage = {\n        body: e.target.newMessage.value,\n        user: {\n          name: 'zlil yoffe'\n        },\n        chatId\n      };\n      console.log(`sending: ${JSON.stringify(newMessage)}`);\n      setLastPoll(Date.now());\n    });\n  }\n\n  function loadChats() {\n    get('chats').then(chats => {\n      setChats(chats);\n      setChatsId(chats[0].id);\n    });\n  } // function loadChats() {\n  //   import('./data/chats.js')\n  //     .then(module => {\n  //       let chats = module.chats;\n  //       setChats(chats);\n  //       setChatId(chats[0].id);\n  //     });\n  // }\n\n\n  function loadMessages() {\n    if (!chatId) {\n      return;\n    }\n\n    import(`./data/messages_${chatId}.js`).then(module => {\n      let messages = module.messages;\n      setMessages(addFakeMessage(messages));\n    });\n  }\n\n  function startTimer() {\n    clearTimeout(timer.current);\n    timer.current = setTimeout(() => {\n      setLastPoll(Date.now());\n    }, 5000);\n  }\n}\n\n_s(App, \"0j+6k9zhOB6Ye7znijkIaZxLyiU=\");\n\n_c = App;\n\nfunction addFakeMessage(messages) {\n  let messageBeforeLast = messages[messages.length - 2];\n  let newMessage = { ...messageBeforeLast,\n    id: Date.now()\n  };\n  messages.push(newMessage);\n  return messages;\n}\n/*\r\n    useEffect(() => {\r\n    if (!selectedId) {\r\n      return;\r\n    }\r\n    import(`./data/messages_${selectedId}.js`)\r\n      .then((module) => {\r\n        let messages = module.messages;\r\n        setMessages(addFakeMessage(messages));\r\n      })\r\n  }, [selectedId, lastPoll]);\r\n//       fetch(`https://jsonplaceholder.typicode.com/comments?postId=${selectedId}`)\r\n//       .then(res => res.json())\r\n//       .then((comments) => setComments(comments))\r\n//   }, [selectedId]);\r\nuseEffect(() => {\r\n  setTimeout(() => {\r\n      setLastPoll(Date.now());\r\n  }, 6000);\r\n}, [lastPoll]);\r\n  \r\nlet selectedChat = chats.find((p) => p.id === selectedId);\r\n\r\n  return <Panes>\r\n      <Pane width={'35%'} minWidth={'300px'}\r\n       header={`All Chats (lastPoll: ${lastPoll})`}\r\n       body={<Chats chats={chats} onSelectChat={setSelectedId}></Chats>}>\r\n    </Pane>\r\n    <Pane width={'65%'}\r\n    header={`${selectedChat?.users.map(user => user.name).join(', ')} (${selectedChat?.id})`}\r\n    body={<Messages messages={messages}></Messages>}\r\n    footer={<form onSubmit={onNewMessage}>\r\n        <input id={'newMessage'}></input>\r\n    </form>}\r\n    lastScroll={lastPoll}>\r\n    </Pane>\r\n  </Panes>;\r\n}\r\n\r\nfunction addFakeMessage(messages) {\r\n  let messageBeforeLast = messages[messages.length - 2];\r\n  let newMessage = {...messageBeforeLast, id: Date.now()};\r\n  messages.push(newMessage);\r\n  return messages;\r\n}\r\n  useEffect(() => {\r\n  import('./data/chats.js')\r\n      .then(module => {\r\n          let chats = module.chats;\r\n          setChats(chats);\r\n          setSelectedId(chats[0].id);\r\n      });\r\n  }, []);\r\n    useEffect(() => {\r\n    fetch('https://jsonplaceholder.typicode.com/posts')\r\n      .then(res => res.json())\r\n      .then((posts) => setPosts(posts))\r\n  }, []);\r\n    */\n\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/ZLILDANIELPC/Desktop/zlil_shared_dir/whatsApp - serg/src/App.jsx"],"names":["React","useEffect","useRef","useState","Messages","Pane","Panes","Chats","MessageForm","get","route","fetch","then","res","json","App","chats","setChats","chatId","setChatId","messages","setMessages","lastPoll","setLastPoll","Date","now","myUser","setMyUser","timer","loadMyUser","loadChats","loadAllUsers","loadMessages","startTimer","selectedChat","find","p","id","response","users","console","log","catch","err","firstName","lastName","map","user","name","join","onNewMessage","USER","e","preventDefault","newMessage","body","target","value","JSON","stringify","setChatsId","module","addFakeMessage","clearTimeout","current","setTimeout","messageBeforeLast","length","push"],"mappings":"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a,UAAT,GAAsB;AACpB8B,IAAAA,YAAY,CAACnC,KAAK,CAACoC,OAAP,CAAZ;AACApC,IAAAA,KAAK,CAACoC,OAAN,GAAgBC,UAAU,CAAC,MAAM;AAC/B1C,MAAAA,WAAW,CAACC,IAAI,CAACC,GAAL,EAAD,CAAX;AACD,KAFyB,EAEvB,IAFuB,CAA1B;AAGD;AACF;;GAvGaV,G;;KAAAA,G;;AAwGd,SAAS+C,cAAT,CAAwB1C,QAAxB,EAAkC;AAChC,MAAI8C,iBAAiB,GAAG9C,QAAQ,CAACA,QAAQ,CAAC+C,MAAT,GAAkB,CAAnB,CAAhC;AACA,MAAIb,UAAU,GAAG,EAAC,GAAGY,iBAAJ;AAAuB7B,IAAAA,EAAE,EAAEb,IAAI,CAACC,GAAL;AAA3B,GAAjB;AACAL,EAAAA,QAAQ,CAACgD,IAAT,CAAcd,UAAd;AACA,SAAOlC,QAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { Messages } from './Messages';\r\nimport { Pane, Panes } from './Panes';\r\nimport { Chats } from './Chats';\r\nimport { MessageForm } from './MessageForm';\r\n\r\nlet get = (route) => fetch(`http://localhost:8080/api/${route}`).then(res => res.json())\r\n\r\nexport function App() {\r\n    let [chats, setChats] = useState([]);\r\n    let [chatId, setChatId] = useState(null);\r\n    //let [selectedId, setSelectedId] = useState(null);\r\n    let [messages, setMessages] = useState([]);\r\n    let [lastPoll, setLastPoll] = useState(Date.now());\r\n    let [myUser, setMyUser] = useState({});\r\n    let timer = useRef(null);\r\n\r\n    useEffect(loadMyUser, []);\r\n    useEffect(loadChats, []);\r\n    useEffect(loadAllUsers, []);\r\n    useEffect(loadMessages, [chatId, lastPoll]);\r\n    useEffect(startTimer, [lastPoll]);\r\n\r\n    let selectedChat = chats.find((p) => p.id === chatId);\r\n\r\n    function loadAllUsers() {\r\n      // GET request using fetch inside useEffect React hook\r\n      fetch('http://localhost:8080/api/users')\r\n          .then((response) => response.json())\r\n          .then((users) => console.log(users))\r\n          .catch((err) => console.log(\"eror\" + err));\r\n    };\r\n\r\n    return <Panes>\r\n      <Pane width={'35%'} minWidth={'300px'}\r\n        header={`All Chats (lastPoll: ${lastPoll})`}\r\n        header={`User: ${myUser.firstName} ${myUser.lastName} (lastPoll: ${lastPoll})`}\r\n        body={<Chats chats={chats} onSelectChat={setChatId}></Chats>}>\r\n      </Pane>\r\n      <Pane width={'65%'}\r\n        header={`${selectedChat?.users.map(user => user.name).join(', ')} (${selectedChat?.id})`}\r\n        header={`Chat (${selectedChat?.id}): ${selectedChat?.users.map(user => user.name).join(', ')}`}\r\n        body={<Messages messages={messages}></Messages>}\r\n        footer={<MessageForm onNewMessage={onNewMessage}></MessageForm>}\r\n        lastScroll={lastPoll}>\r\n      </Pane>\r\n  </Panes>;\r\n\r\n  function loadMyUser(){\r\n    const USER = '60bfaf01d6c5f547fc147cca';\r\n    fetch(`http://localhost:8080/api/users/${USER}`)\r\n    .then(res => res.json())\r\n    .then(user =>{\r\n      setMyUser(user)\r\n    })\r\n  };\r\n    \r\n    // function loadMyUser() {\r\n    //   import('./data/users_me')\r\n    //     .then(module => {\r\n    //       let user = module.user;\r\n    //       setMyUser(user);\r\n    //     });\r\n    // }\r\n\r\n    function onNewMessage(e, chatId){\r\n      e.preventDefault();\r\n      fetch(`/post/chats/${chatId}/message`)\r\n        .then(res => {\r\n          let newMessage = {\r\n            body: e.target.newMessage.value,\r\n            user: {name: 'zlil yoffe'},\r\n            chatId\r\n          };\r\n          console.log(`sending: ${JSON.stringify(newMessage)}`);\r\n          setLastPoll(Date.now());\r\n        });\r\n    }\r\n\r\n    function loadChats(){\r\n      get ('chats').then(chats => {\r\n        setChats(chats);\r\n        setChatsId(chats[0].id);\r\n      })\r\n    }\r\n\r\n    // function loadChats() {\r\n    //   import('./data/chats.js')\r\n    //     .then(module => {\r\n    //       let chats = module.chats;\r\n    //       setChats(chats);\r\n    //       setChatId(chats[0].id);\r\n    //     });\r\n    // }\r\n\r\n    function loadMessages() {\r\n      if (!chatId) {\r\n        return;\r\n      }\r\n      import(`./data/messages_${chatId}.js`)\r\n        .then((module) => {\r\n          let messages = module.messages;\r\n          setMessages(addFakeMessage(messages));\r\n        })\r\n    }\r\n    function startTimer() {\r\n      clearTimeout(timer.current);\r\n      timer.current = setTimeout(() => {\r\n        setLastPoll(Date.now());\r\n      }, 5000);\r\n    }\r\n  }\r\n  function addFakeMessage(messages) {\r\n    let messageBeforeLast = messages[messages.length - 2];\r\n    let newMessage = {...messageBeforeLast, id: Date.now()};\r\n    messages.push(newMessage);\r\n    return messages;\r\n  }\r\n\r\n  /*\r\n\r\n    useEffect(() => {\r\n      if (!selectedId) {\r\n        return;\r\n      }\r\n      import(`./data/messages_${selectedId}.js`)\r\n        .then((module) => {\r\n          let messages = module.messages;\r\n          setMessages(addFakeMessage(messages));\r\n        })\r\n    }, [selectedId, lastPoll]);\r\n//       fetch(`https://jsonplaceholder.typicode.com/comments?postId=${selectedId}`)\r\n//       .then(res => res.json())\r\n//       .then((comments) => setComments(comments))\r\n//   }, [selectedId]);\r\n\r\nuseEffect(() => {\r\n    setTimeout(() => {\r\n        setLastPoll(Date.now());\r\n    }, 6000);\r\n}, [lastPoll]);\r\n    \r\n  let selectedChat = chats.find((p) => p.id === selectedId);\r\n  \r\n    return <Panes>\r\n        <Pane width={'35%'} minWidth={'300px'}\r\n         header={`All Chats (lastPoll: ${lastPoll})`}\r\n         body={<Chats chats={chats} onSelectChat={setSelectedId}></Chats>}>\r\n      </Pane>\r\n      <Pane width={'65%'}\r\n      header={`${selectedChat?.users.map(user => user.name).join(', ')} (${selectedChat?.id})`}\r\n      body={<Messages messages={messages}></Messages>}\r\n      footer={<form onSubmit={onNewMessage}>\r\n          <input id={'newMessage'}></input>\r\n      </form>}\r\n      lastScroll={lastPoll}>\r\n      </Pane>\r\n    </Panes>;\r\n  }\r\n  \r\n  function addFakeMessage(messages) {\r\n    let messageBeforeLast = messages[messages.length - 2];\r\n    let newMessage = {...messageBeforeLast, id: Date.now()};\r\n    messages.push(newMessage);\r\n    return messages;\r\n  }\r\n\r\n  useEffect(() => {\r\n    import('./data/chats.js')\r\n        .then(module => {\r\n            let chats = module.chats;\r\n            setChats(chats);\r\n            setSelectedId(chats[0].id);\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      fetch('https://jsonplaceholder.typicode.com/posts')\r\n        .then(res => res.json())\r\n        .then((posts) => setPosts(posts))\r\n    }, []);\r\n\r\n    */"]},"metadata":{},"sourceType":"module"}